{{ define "content" }}
<h2>–°–ø–∏—Å–æ–∫ —Ç—É—Ä–æ–≤</h2>

<table border="1" cellpadding="5" cellspacing="0" style="width: 100%; border-collapse: collapse;">
    <thead>
        <tr>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–†–µ–π—Ç–∏–Ω–≥</th>
            <th>–û—Ç–µ–ª—å</th>
            <th>–ü–∏—Ç–∞–Ω–∏–µ</th>
            <th>–ì–æ—Ä–æ–¥</th>
            <th>–°—Ç—Ä–∞–Ω–∞</th>
            <th>–¶–µ–Ω–∞</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
        {{ range .Tours }}
        <tr>
            <td>{{ .Name }}</td>
            <td>{{ .Rating }}</td>
            <td>{{ .Hotel }}</td>
            <td>{{ .Nutrition }}</td>
            <td>{{ .City }}</td>
            <td>{{ .Country }}</td>
            <td>{{ .Price }} ‚ÇΩ</td>
            <td>
                <a href="/tours/edit/{{ .ID }}">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
            <!--    <button onclick="deleteTour('{{ .ID }}')">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button> -->
            </td>
        </tr>
        {{ else }}
        <tr>
            <td colspan="8" style="text-align: center;">–ù–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç—É—Ä–æ–≤</td>
        </tr>
        {{ end }}
    </tbody>
</table>

<br>
<a href="/tours/new">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç—É—Ä</a>

<script>
async function deleteTour(id) {
    if (!confirm("–£–¥–∞–ª–∏—Ç—å —Ç—É—Ä?")) return;

    const res = await fetch(`/tours/${id}`, { method: "DELETE" });

    if (res.ok) {
        alert("–¢—É—Ä —É–¥–∞–ª—ë–Ω");
        location.reload();
    } else {
        const data = await res.json();
        alert(data.error || "–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏");
    }
}
</script>
{{ end }}

{{ template "base.html" . }}
